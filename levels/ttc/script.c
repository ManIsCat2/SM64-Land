#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "areas/2/custom.model.inc.h"
#include "levels/ttc/header.h"
extern u8 _ttc_segment_ESegmentRomStart[]; 
extern u8 _ttc_segment_ESegmentRomEnd[];
const LevelScript level_ttc_entry[] = {
INIT_LEVEL(),
LOAD_RAW(0x0E, _ttc_segment_ESegmentRomStart, _ttc_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_bbh_skybox_mio0SegmentRomStart,_bbh_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group9_mio0SegmentRomStart,_group9_mio0SegmentRomEnd),
LOAD_RAW(12,_group9_geoSegmentRomStart,_group9_geoSegmentRomEnd),
LOAD_MIO0(6,_group17_mio0SegmentRomStart,_group17_mio0SegmentRomEnd),
LOAD_RAW(13,_group17_geoSegmentRomStart,_group17_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_10),
JUMP_LINK(script_func_global_18),
JUMP_LINK(local_area_ttc_1_),
JUMP_LINK(local_area_ttc_2_),
FREE_LEVEL_POOL(),
MARIO_POS(1,0,0,0,0),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_ttc_1_[] = {
AREA(1,Geo_ttc_1_0x1d28200),
TERRAIN(col_ttc_1_0xe038dd0),
SET_BACKGROUND_MUSIC(0,69),
TERRAIN_TYPE(4),
JUMP_LINK(local_objects_ttc_1_),
JUMP_LINK(local_warps_ttc_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_ttc_1_[] = {
OBJECT_WITH_ACTS(0,28,-5985,2213,0,180,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(56,1005,-5219,1190,0,0,0,0x0, bhvTTCPendulum,31),
OBJECT_WITH_ACTS(56,985,-5119,-1238,0,0,0,0x0, bhvTTCPendulum,31),
OBJECT_WITH_ACTS(59,-2430,-4817,-408,0,90,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,-2430,-4817,24,0,90,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,-2426,-4817,409,0,90,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,-1197,-4067,2118,0,150,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,-860,-4067,2309,0,150,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,-1568,-4067,1898,0,150,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(84,1461,-5839,373,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,450,-5693,-2168,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,2295,-3068,-299,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,2009,-5839,91,0,180,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(60,985,-3012,-367,0,0,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(60,513,-2918,112,0,0,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(60,0,-2727,0,0,0,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(60,-603,-2557,-400,0,0,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(60,-808,-2279,178,0,0,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(65,0,-1478,0,0,0,0,0x0, bhvTTC2DRotator,31),
OBJECT_WITH_ACTS(54,871,-899,1272,0,0,0,0x0, bhvTTCRotatingSolid,31),
OBJECT_WITH_ACTS(54,1271,-499,1272,0,90,0,0x0, bhvTTCRotatingSolid,31),
OBJECT_WITH_ACTS(54,1271,-99,72,0,0,0,0x0, bhvTTCRotatingSolid,31),
OBJECT_WITH_ACTS(64,426,2925,2155,0,90,0,0x0, bhvTTCElevator,31),
OBJECT_WITH_ACTS(0,871,-1099,1872,0,0,0,0x1414003e, Bhv_Custom_0x19000400,31),
OBJECT_WITH_ACTS(0,1271,-299,653,0,0,0,0x1414003e, Bhv_Custom_0x19000400,31),
OBJECT_WITH_ACTS(0,1271,-99,-947,0,0,0,0x1414003e, Bhv_Custom_0x19000400,31),
OBJECT_WITH_ACTS(0,-921,-95,-1586,0,0,0,0x1414003e, Bhv_Custom_0x19000400,31),
OBJECT_WITH_ACTS(0,-921,5,-386,0,0,0,0x1414003e, Bhv_Custom_0x19000400,31),
OBJECT_WITH_ACTS(0,-921,105,914,0,0,0,0x1414003e, Bhv_Custom_0x19000400,31),
OBJECT_WITH_ACTS(56,-921,705,-986,0,0,0,0x10000, bhvTTCPendulum,31),
OBJECT_WITH_ACTS(56,-921,905,214,0,0,0,0x10000, bhvTTCPendulum,31),
OBJECT_WITH_ACTS(0,-921,255,1614,0,0,0,0x1414003e, Bhv_Custom_0x19000400,31),
OBJECT_WITH_ACTS(59,1599,569,1871,0,210,0,0x70000, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,1101,502,2155,0,210,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,1998,698,1383,0,240,0,0x1f0000, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,2284,755,886,0,240,0,0x140000, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(54,2231,923,387,0,0,0,0x0, bhvTTCRotatingSolid,31),
OBJECT_WITH_ACTS(59,2316,2136,905,0,240,0,0x1f0000, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,2004,2272,1388,0,240,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(54,2231,1323,-13,0,0,0,0x0, bhvTTCRotatingSolid,31),
OBJECT_WITH_ACTS(54,1831,2123,387,0,0,0,0x0, bhvTTCRotatingSolid,31),
OBJECT_WITH_ACTS(54,1831,1723,-13,0,0,0,0x0, bhvTTCRotatingSolid,31),
OBJECT_WITH_ACTS(66,-1957,3555,1154,0,30,0,0x0, bhvTTCSpinner,31),
OBJECT_WITH_ACTS(54,-2193,3555,2,0,90,0,0x0, bhvTTCRotatingSolid,31),
OBJECT_WITH_ACTS(66,-1984,3755,-1135,0,330,0,0x0, bhvTTCSpinner,31),
OBJECT_WITH_ACTS(54,-1101,3392,1952,0,150,0,0x0, bhvTTCRotatingSolid,31),
OBJECT_WITH_ACTS(66,-137,3392,2329,0,90,0,0x0, bhvTTCSpinner,31),
OBJECT_WITH_ACTS(60,1597,4062,-1451,0,0,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(60,1833,4213,-1014,0,0,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(54,1955,4396,-554,0,0,0,0x0, bhvTTCRotatingSolid,31),
OBJECT_WITH_ACTS(65,0,4700,0,0,0,0,0x0, bhvTTC2DRotator,31),
OBJECT_WITH_ACTS(65,0,5548,0,0,180,0,0x0, bhvTTC2DRotator,31),
OBJECT_WITH_ACTS(122,-2214,5916,-32,0,0,0,0x10000, bhvStar,31),
OBJECT_WITH_ACTS(0,459,-2940,-378,0,0,0,0x1010000, bhvMrI,31),
OBJECT_WITH_ACTS(60,499,-2918,-926,0,0,0,0x0, bhvTTCCog,31),
//OBJECT_WITH_ACTS(0,0,-8775,0,0,0,0,0x1b004e20,0x1300003c,31),
OBJECT_WITH_ACTS(84,130,5073,1771,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,-571,-5693,-2334,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,1693,-3201,1046,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,-54,3987,-2334,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,24,391,1854,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(65,0,-1458,0,0,70,0,0x10000, bhvTTC2DRotator,31),
OBJECT_WITH_ACTS(65,0,4720,0,0,90,0,0x10000, bhvTTC2DRotator,31),
OBJECT_WITH_ACTS(65,0,5568,0,0,90,0,0x10000, bhvTTC2DRotator,31),
OBJECT_WITH_ACTS(0,-17,-95,-2080,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(0,-8,4946,-59,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(84,-677,3987,-2080,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(0,68,-1273,2086,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(212,-2283,6396,-389,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,-2314,-4814,411,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,-924,985,221,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(140,-808,-2281,178,0,0,0,0x0, bhvBlueCoinSwitch,31),
OBJECT_WITH_ACTS(118,-847,-1683,-1933,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-1534,-1965,-925,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-1627,-1800,-1419,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-1161,-1717,-1665,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-1926,-2058,-585,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-274,-1683,-1990,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(60,459,-3390,-378,0,0,0,0x0, bhvTTCCog,31),
//OBJECT_WITH_ACTS(239,903,2466,1891,0,0,0,0x0,0x040086a0,31),
OBJECT_WITH_ACTS(0,22,-32748,60,0,0,0,0xe009fb0, RM_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,22,-32748,60,0,0,0,0xe00a3a0, RM_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,22,-32748,60,0,0,0,0xe00a790, RM_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,22,-32748,60,0,0,0,0xe00ab80, RM_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,21,-32748,60,0,0,0,0xe00af70, RM_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,22,-32748,60,0,0,0,0xe00b350, RM_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,22,-32748,60,0,0,0,0xe00b740, RM_Scroll_Texture,31),
RETURN()
};
const LevelScript local_warps_ttc_1_[] = {
WARP_NODE(10,9,1,0,0),
WARP_NODE(240,16,4,33,0),
WARP_NODE(241,16,4,23,0),
RETURN()
};
const LevelScript local_area_ttc_2_[] = {
AREA(2,ttc_area_1),
TERRAIN(col_ttc_2_0xe038220),
SET_BACKGROUND_MUSIC(0,46),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_ttc_2_),
JUMP_LINK(local_warps_ttc_2_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_ttc_2_[] = {
OBJECT_WITH_ACTS(0,6923,3731,-30,0,270,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(22,2500,4495,4061,0,180,0,0xb0000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(22,2198,5674,1705,0,90,0,0xc0000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(0,-2857,4175,2916,0,0,0,0x3000000, bhvHiddenStar,31),
OBJECT_WITH_ACTS(24,296,4163,382,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(24,-2768,4411,597,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(24,-6711,4465,680,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(24,-4757,4488,5750,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(24,-1197,4488,5717,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,4001,4113,515,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,3543,5458,800,0,0,0,0x0, bhvCoinFormation,31),
/*OBJECT_WITH_ACTS(245,-776,5807,-1305,90,90,0,0x0,0x0040fdd0,31),
OBJECT_WITH_ACTS(245,-1076,5957,-1305,90,90,0,0x0,0x0040fdd0,31),
OBJECT_WITH_ACTS(245,-1376,6007,-1305,90,90,0,0x0,0x0040fdd0,31),*/
OBJECT_WITH_ACTS(223,4440,4101,22,0,43,0,0x0, id_bhvChuckya,31),
OBJECT_WITH_ACTS(0,4884,4453,440,-25,90,0,0x100000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,5884,4763,440,0,90,0,0x100000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(212,7000,4635,440,0,90,0,0x100000, bhv1Up,31),
OBJECT_WITH_ACTS(122,-1552,8257,245,0,0,0,0x4000000, bhvStar,31),
OBJECT_WITH_ACTS(122,451,10371,7243,0,0,0,0x5010000, bhvStar,31),
//OBJECT_WITH_ACTS(0,0,2940,0,0,0,0,0xe004e20,0x1300003c,31),
OBJECT_WITH_ACTS(116,2776,4116,2905,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,3634,4116,2905,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,3634,4116,3644,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,1830,4116,2905,0,0,0,0x0, bhvOneCoin,31),
/*OBJECT_WITH_ACTS(245,6868,7635,-1353,90,0,0,0x0,0x0040fdd0,31),
OBJECT_WITH_ACTS(245,6868,7739,-853,90,0,0,0x0,0x0040fdd0,31),
OBJECT_WITH_ACTS(245,6868,7783,-353,90,0,0,0x0,0x0040fdd0,31),*/
OBJECT_WITH_ACTS(0,1570,6531,-4059,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-1854,6885,-4044,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,7758,7730,1525,0,90,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,5584,8748,6368,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(212,3825,10282,7724,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,-1042,7865,-4546,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,2402,6348,-1494,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,7386,3104,4720,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(0,-3167,6228,-4533,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,7480,8468,5705,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(192,3156,4116,3012,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-1726,6885,-3808,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,7414,8468,5894,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,6708,8468,6325,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,2887,9235,7250,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,4005,9235,6755,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-2390,6885,-4288,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,3698,4116,3772,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(207,-2971,3578,5275,0,0,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(129,-2225,3578,5497,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-2225,3578,5297,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-3677,3578,5713,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-3677,3578,5913,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(195,-5775,9515,-6947,0,0,0,0x30000, bhvBobombBuddy,31),
OBJECT_WITH_ACTS(212,-2044,3936,12794,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,-2396,3969,12717,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,-1923,3954,12519,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,-2219,3979,12481,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,5564,4653,-11750,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,5373,4653,-11626,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,5793,4698,-11487,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,5537,4678,-11381,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(0,48,-32748,3,0,0,0,0xe019c60, RM_Scroll_Texture,31),
RETURN()
};
const LevelScript local_warps_ttc_2_[] = {
WARP_NODE(10,9,2,0,0),
WARP_NODE(11,14,2,12,0),
WARP_NODE(12,14,2,11,0),
WARP_NODE(240,26,2,31,0),
WARP_NODE(241,26,2,41,0),
RETURN()
};
